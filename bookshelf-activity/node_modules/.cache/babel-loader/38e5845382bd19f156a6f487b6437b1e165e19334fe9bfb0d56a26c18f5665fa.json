{"ast":null,"code":"import _objectSpread from\"/Users/family/Documents/Bookshelf/bookshelf-activity/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{fetchBooks,createBook,updateBook,deleteBook}from'./api/books';import'./TodoList.css';import BookDetail from'./components/BookDetail';import BookCard from'./components/BookCard';// === MAIN COMPONENT ===\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TodoList(){const[todos,setTodos]=useState([]);const[filter,setFilter]=useState('all');const[selectedCategory,setSelectedCategory]=useState('All');const[showModal,setShowModal]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[showAlert,setShowAlert]=useState(false);const[alertMessage,setAlertMessage]=useState('');const[selectedBook,setSelectedBook]=useState(null);const[editId,setEditId]=useState(null);const textareaRef=useRef(null);const initialBookState={title:'',author:'',category:'',summary:'',image:''};const[newBook,setNewBook]=useState(initialBookState);const categories=['All','Fiction','Non-Fiction','Science & Technology','Literature','History','Philosophy','Psychology','Education & Reference','Business & Economics','Arts & Culture','Health & Lifestyle','Politics & Society','Language & Communication'];// Auto-expand\nuseEffect(()=>{if(textareaRef.current){textareaRef.current.style.height='auto';textareaRef.current.style.height=textareaRef.current.scrollHeight+'px';}},[newBook.summary]);// Load books from backend\nuseEffect(()=>{async function load(){try{const data=await fetchBooks();setTodos((Array.isArray(data)?data:[]).map(b=>({id:b.id,text:b.title,author:b.author,category:b.category,summary:b.summary,image:b.image,completed:!!b.completed})));}catch(err){console.error('Failed to load books',err);}}load();},[]);// Generate unique ID\nconst generateId=()=>'_'+Math.random().toString(36).substr(2,9);// Add/Update Book (backend)\nconst handleAddBook=async()=>{if(!newBook.title||!newBook.author||!newBook.summary){setAlertMessage('⚠️ Please fill in all fields.');setShowAlert(true);return;}if(!newBook.category){setAlertMessage('⚠️ Please select a category.');setShowAlert(true);return;}try{if(editId){const updated=await updateBook(editId,{title:newBook.title,author:newBook.author,category:newBook.category,summary:newBook.summary,image:newBook.image,completed:false});setTodos(todos.map(t=>t.id===editId?_objectSpread(_objectSpread({},t),{},{text:updated.title,author:updated.author,category:updated.category,summary:updated.summary,image:updated.image}):t));setEditId(null);}else{const created=await createBook({title:newBook.title,author:newBook.author,category:newBook.category,summary:newBook.summary,image:newBook.image});setTodos([...todos,{id:created.id,text:created.title,author:created.author,category:created.category,summary:created.summary,image:created.image,completed:created.completed}]);}setNewBook(initialBookState);setShowModal(false);}catch(err){console.error(err);setAlertMessage('Error saving book.');setShowAlert(true);}};const handleCancel=()=>{setNewBook(initialBookState);setShowModal(false);};// Image upload\nconst handleImageUpload=e=>{const file=e.target.files[0];if(file){const imageURL=URL.createObjectURL(file);setNewBook(_objectSpread(_objectSpread({},newBook),{},{image:imageURL}));}};const markAsCompleted=id=>setTodos(todos.map(t=>t.id===id?_objectSpread(_objectSpread({},t),{},{completed:true}):t));const removeFromCompleted=id=>setTodos(todos.map(t=>t.id===id?_objectSpread(_objectSpread({},t),{},{completed:false}):t));const deleteTodo=id=>setTodos(todos.filter(t=>t.id!==id));const handleEdit=book=>{setEditId(book.id);setNewBook({title:book.text||'',author:book.author||'',category:book.category||'',summary:book.summary||'',image:book.image||''});setShowModal(true);};// Search\nconst filteredTodos=todos.filter(todo=>{var _todo$text,_todo$author;const matchesTab=filter==='all'?!todo.completed:todo.completed;const matchesCategory=selectedCategory==='All'?true:todo.category===selectedCategory;const matchesSearch=((_todo$text=todo.text)===null||_todo$text===void 0?void 0:_todo$text.toLowerCase().includes(searchQuery.toLowerCase()))||((_todo$author=todo.author)===null||_todo$author===void 0?void 0:_todo$author.toLowerCase().includes(searchQuery.toLowerCase()));return matchesTab&&matchesCategory&&matchesSearch;});return/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MY BOOKSHELF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-center\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'/ORION-transparent.png',alt:\"ORION\",className:\"header-logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for Title or Author...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"search-btn\",children:\"\\uD83D\\uDD0D\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(filter==='all'?'active':''),onClick:()=>setFilter('all'),children:\"ALL BOOKS\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(filter==='completed'?'active':''),onClick:()=>setFilter('completed'),children:\"COMPLETED\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>setShowModal(true),children:\"+ Add Book\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"categories\",children:categories.map((cat,i)=>/*#__PURE__*/_jsx(\"button\",{className:\"category-btn \".concat(selectedCategory===cat?'active-category':''),onClick:()=>setSelectedCategory(cat),children:cat},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"book-grid\",children:filteredTodos.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-books\",children:\"No books to show.\"}):filteredTodos.map(todo=>/*#__PURE__*/_jsx(BookCard,{todo:_objectSpread(_objectSpread({},todo),{},{image:todo.image||process.env.PUBLIC_URL+'/no-image.jpg'}),onMarkCompleted:markAsCompleted,onDelete:deleteTodo,onRemoveFromCompleted:removeFromCompleted,filter:filter,onViewDetails:b=>setSelectedBook(b),onEdit:b=>handleEdit(b)},todo.id))}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content scrollable-modal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Book\"}),/*#__PURE__*/_jsx(\"label\",{children:\"TITLE:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Add Title...\",value:newBook.title,onChange:e=>setNewBook(_objectSpread(_objectSpread({},newBook),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"label\",{children:\"AUTHOR:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Add Author...\",value:newBook.author,onChange:e=>setNewBook(_objectSpread(_objectSpread({},newBook),{},{author:e.target.value}))}),/*#__PURE__*/_jsx(\"label\",{children:\"CATEGORY:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category-select\",children:categories.filter(c=>c!=='All').map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"category-btn \".concat(newBook.category===cat?'active-category':''),onClick:()=>setNewBook(_objectSpread(_objectSpread({},newBook),{},{category:cat})),children:cat},cat))}),/*#__PURE__*/_jsx(\"label\",{children:\"SUMMARY:\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,placeholder:\"Add Summary...\",value:newBook.summary,onChange:e=>setNewBook(_objectSpread(_objectSpread({},newBook),{},{summary:e.target.value}))}),/*#__PURE__*/_jsx(\"label\",{children:\"PHOTO (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload}),newBook.image&&/*#__PURE__*/_jsx(\"img\",{src:newBook.image,alt:\"Preview\",className:\"preview-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddBook,className:\"add-book-confirm\",children:\"ADD\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"cancel-book\",children:\"CANCEL\"})]})]})}),showAlert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert-box\",children:[/*#__PURE__*/_jsx(\"p\",{children:alertMessage}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAlert(false),children:\" OK \"})]})}),selectedBook&&/*#__PURE__*/_jsx(BookDetail,{book:selectedBook,onClose:()=>setSelectedBook(null)})]});}export default TodoList;","map":{"version":3,"names":["React","useState","useEffect","useRef","fetchBooks","createBook","updateBook","deleteBook","BookDetail","BookCard","jsx","_jsx","jsxs","_jsxs","TodoList","todos","setTodos","filter","setFilter","selectedCategory","setSelectedCategory","showModal","setShowModal","searchQuery","setSearchQuery","showAlert","setShowAlert","alertMessage","setAlertMessage","selectedBook","setSelectedBook","editId","setEditId","textareaRef","initialBookState","title","author","category","summary","image","newBook","setNewBook","categories","current","style","height","scrollHeight","load","data","Array","isArray","map","b","id","text","completed","err","console","error","generateId","Math","random","toString","substr","handleAddBook","updated","t","_objectSpread","created","handleCancel","handleImageUpload","e","file","target","files","imageURL","URL","createObjectURL","markAsCompleted","removeFromCompleted","deleteTodo","handleEdit","book","filteredTodos","todo","_todo$text","_todo$author","matchesTab","matchesCategory","matchesSearch","toLowerCase","includes","className","children","src","process","env","PUBLIC_URL","alt","type","placeholder","value","onChange","concat","onClick","cat","i","length","onMarkCompleted","onDelete","onRemoveFromCompleted","onViewDetails","onEdit","c","ref","accept","onClose"],"sources":["/Users/family/Documents/Bookshelf/bookshelf-activity/src/TodoList.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { fetchBooks, createBook, updateBook, deleteBook } from './api/books';\nimport './TodoList.css';\nimport BookDetail from './components/BookDetail';\nimport BookCard from './components/BookCard';\n\n// === MAIN COMPONENT ===\nfunction TodoList() {\n  const [todos, setTodos] = useState([]);\n  const [filter, setFilter] = useState('all');\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [showModal, setShowModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [editId, setEditId] = useState(null);\n  const textareaRef = useRef(null);\n\n  const initialBookState = { title: '', author: '', category: '', summary: '', image: '' };\n  const [newBook, setNewBook] = useState(initialBookState);\n\n  const categories = [\n    'All', 'Fiction', 'Non-Fiction', 'Science & Technology', 'Literature', 'History',\n    'Philosophy', 'Psychology', 'Education & Reference', 'Business & Economics',\n    'Arts & Culture', 'Health & Lifestyle', 'Politics & Society', 'Language & Communication'\n  ];\n\n  // Auto-expand\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newBook.summary]);\n\n  // Load books from backend\n  useEffect(() => {\n    async function load() {\n      try {\n        const data = await fetchBooks();\n        setTodos(\n          (Array.isArray(data) ? data : []).map((b) => ({\n            id: b.id,\n            text: b.title,\n            author: b.author,\n            category: b.category,\n            summary: b.summary,\n            image: b.image,\n            completed: !!b.completed,\n          }))\n        );\n      } catch (err) {\n        console.error('Failed to load books', err);\n      }\n    }\n    load();\n  }, []);\n\n  // Generate unique ID\n  const generateId = () => '_' + Math.random().toString(36).substr(2, 9);\n\n  // Add/Update Book (backend)\n  const handleAddBook = async () => {\n    if (!newBook.title || !newBook.author || !newBook.summary) {\n      setAlertMessage('⚠️ Please fill in all fields.');\n      setShowAlert(true);\n      return;\n    }\n    if (!newBook.category) {\n      setAlertMessage('⚠️ Please select a category.');\n      setShowAlert(true);\n      return;\n    }\n\n    try {\n      if (editId) {\n        const updated = await updateBook(editId, {\n          title: newBook.title,\n          author: newBook.author,\n          category: newBook.category,\n          summary: newBook.summary,\n          image: newBook.image,\n          completed: false,\n        });\n        setTodos(\n          todos.map((t) =>\n            t.id === editId\n              ? {\n                  ...t,\n                  text: updated.title,\n                  author: updated.author,\n                  category: updated.category,\n                  summary: updated.summary,\n                  image: updated.image,\n                }\n              : t\n          )\n        );\n        setEditId(null);\n      } else {\n        const created = await createBook({\n          title: newBook.title,\n          author: newBook.author,\n          category: newBook.category,\n          summary: newBook.summary,\n          image: newBook.image,\n        });\n        setTodos([\n          ...todos,\n          {\n            id: created.id,\n            text: created.title,\n            author: created.author,\n            category: created.category,\n            summary: created.summary,\n            image: created.image,\n            completed: created.completed,\n          },\n        ]);\n      }\n\n      setNewBook(initialBookState);\n      setShowModal(false);\n    } catch (err) {\n      console.error(err);\n      setAlertMessage('Error saving book.');\n      setShowAlert(true);\n    }\n  };\n\n  const handleCancel = () => {\n    setNewBook(initialBookState);\n    setShowModal(false);\n  };\n\n  // Image upload\n  const handleImageUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const imageURL = URL.createObjectURL(file);\n      setNewBook({ ...newBook, image: imageURL });\n    }\n  };\n\n \n  const markAsCompleted = (id) => setTodos(todos.map(t => t.id === id ? { ...t, completed: true } : t));\n  const removeFromCompleted = (id) => setTodos(todos.map(t => t.id === id ? { ...t, completed: false } : t));\n  const deleteTodo = (id) => setTodos(todos.filter(t => t.id !== id));\n\n  const handleEdit = (book) => {\n    setEditId(book.id);\n    setNewBook({\n      title: book.text || '',\n      author: book.author || '',\n      category: book.category || '',\n      summary: book.summary || '',\n      image: book.image || ''\n    });\n    setShowModal(true);\n  };\n\n  // Search\n  const filteredTodos = todos.filter(todo => {\n    const matchesTab = filter === 'all' ? !todo.completed : todo.completed;\n    const matchesCategory = selectedCategory === 'All' ? true : todo.category === selectedCategory;\n    const matchesSearch =\n      todo.text?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      todo.author?.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesTab && matchesCategory && matchesSearch;\n  });\n\n  return (\n    <div className=\"todo-container\">\n      {/* Header */}\n      <div className=\"header-row\">\n        <h1>MY BOOKSHELF</h1>\n        <div className=\"header-center\">\n          <img src={process.env.PUBLIC_URL + '/ORION-transparent.png'} alt=\"ORION\" className=\"header-logo\" />\n        </div>\n        <div className=\"search-bar\">\n          <input\n            type=\"text\"\n            placeholder=\"Search for Title or Author...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n          <button className=\"search-btn\">🔍</button>\n        </div>\n      </div>\n\n      <div className=\"top-bar\">\n        <div className=\"tab-buttons\">\n          <button className={`tab-btn ${filter === 'all' ? 'active' : ''}`} onClick={() => setFilter('all')}>ALL BOOKS</button>\n          <button className={`tab-btn ${filter === 'completed' ? 'active' : ''}`} onClick={() => setFilter('completed')}>COMPLETED</button>\n        </div>\n        <button className=\"add-btn\" onClick={() => setShowModal(true)}>+ Add Book</button>\n      </div>\n\n      {/* Categories */}\n      <div className=\"categories\">\n        {categories.map((cat, i) => (\n          <button\n            key={i}\n            className={`category-btn ${selectedCategory === cat ? 'active-category' : ''}`}\n            onClick={() => setSelectedCategory(cat)}\n          >\n            {cat}\n          </button>\n        ))}\n      </div>\n\n      {/* Book Grid */}\n      <div className=\"book-grid\">\n        {filteredTodos.length === 0 ? (\n          <p className=\"no-books\">No books to show.</p>\n        ) : (\n          filteredTodos.map(todo => (\n            <BookCard\n              key={todo.id}\n              todo={{ ...todo, image: todo.image || process.env.PUBLIC_URL + '/no-image.jpg' }}\n              onMarkCompleted={markAsCompleted}\n              onDelete={deleteTodo}\n              onRemoveFromCompleted={removeFromCompleted}\n              filter={filter}\n              onViewDetails={(b) => setSelectedBook(b)}\n              onEdit={(b) => handleEdit(b)}\n            />\n          ))\n        )}\n      </div>\n\n      {/* Add Book Modal */}\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content scrollable-modal\">\n            <h2>Add Book</h2>\n\n            <label>TITLE:</label>\n            <input placeholder=\"Add Title...\" value={newBook.title} onChange={e => setNewBook({ ...newBook, title: e.target.value })} />\n\n            <label>AUTHOR:</label>\n            <input placeholder=\"Add Author...\" value={newBook.author} onChange={e => setNewBook({ ...newBook, author: e.target.value })} />\n\n            <label>CATEGORY:</label>\n            <div className=\"category-select\">\n              {categories.filter(c => c !== 'All').map(cat => (\n                <button\n                  key={cat}\n                  className={`category-btn ${newBook.category === cat ? 'active-category' : ''}`}\n                  onClick={() => setNewBook({ ...newBook, category: cat })}\n                >\n                  {cat}\n                </button>\n              ))}\n            </div>\n\n            <label>SUMMARY:</label>\n            <textarea ref={textareaRef} placeholder=\"Add Summary...\" value={newBook.summary} onChange={e => setNewBook({ ...newBook, summary: e.target.value })} />\n\n            <label>PHOTO (optional):</label>\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n            {newBook.image && <img src={newBook.image} alt=\"Preview\" className=\"preview-image\" />}\n\n            <div className=\"modal-buttons\">\n              <button onClick={handleAddBook} className=\"add-book-confirm\">ADD</button>\n              <button onClick={handleCancel} className=\"cancel-book\">CANCEL</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Custom Alert */}\n      {showAlert && (\n        <div className=\"alert-overlay\">\n          <div className=\"alert-box\">\n            <p>{alertMessage}</p>\n            <button onClick={() => setShowAlert(false)}> OK </button>\n          </div>\n        </div>\n      )}\n\n      {/* Book Detail View */}\n      {selectedBook && (\n        <BookDetail book={selectedBook} onClose={() => setSelectedBook(null)} />\n      )}\n    </div>\n  );\n}\n\nexport default TodoList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}